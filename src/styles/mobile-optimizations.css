/* MOBILE-FIRST OPTIMIZATIONS - LAUNCH READY */

/* =============================================
   SAFE AREA & VIEWPORT OPTIMIZATIONS
   ============================================= */

/* Safe area support for all mobile devices */
.safe-area-pt { padding-top: env(safe-area-inset-top); }
.safe-area-pb { padding-bottom: env(safe-area-inset-bottom); }
.safe-area-pl { padding-left: env(safe-area-inset-left); }
.safe-area-pr { padding-right: env(safe-area-inset-right); }
.safe-area-p { 
  padding-top: env(safe-area-inset-top); 
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Dynamic viewport units for mobile browsers */
.min-h-screen-mobile { 
  min-height: 100vh; 
  min-height: 100dvh; /* Dynamic viewport height */
}

.h-screen-mobile { 
  height: 100vh; 
  height: 100dvh; 
}

.max-h-screen-mobile { 
  max-height: 100vh; 
  max-height: 100dvh; 
}

/* =============================================
   TOUCH-FRIENDLY INTERACTIONS
   ============================================= */

/* Touch target optimization - minimum 44px */
.touch-target {
  min-height: 2.75rem; /* 44px */
  min-width: 2.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Enhanced touch feedback */
.touch-feedback {
  -webkit-tap-highlight-color: rgba(139, 92, 246, 0.2);
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  cursor: pointer;
  transition: all 0.15s ease;
}

.touch-feedback:active {
  transform: scale(0.98);
  opacity: 0.8;
}

/* Remove default mobile styles */
.no-mobile-styles {
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  outline: none;
  border: none;
}

/* =============================================
   RESPONSIVE GRID SYSTEMS
   ============================================= */

/* Mobile-first grid containers */
.mobile-grid-1 { 
  display: grid; 
  grid-template-columns: 1fr; 
  gap: 0.75rem; 
}

.mobile-grid-2 { 
  display: grid; 
  grid-template-columns: repeat(2, 1fr); 
  gap: 0.5rem; 
}

.mobile-grid-3 { 
  display: grid; 
  grid-template-columns: repeat(3, 1fr); 
  gap: 0.5rem; 
}

/* Responsive breakpoints */
@media (min-width: 640px) {
  .sm\:grid-2 { grid-template-columns: repeat(2, 1fr); }
  .sm\:grid-3 { grid-template-columns: repeat(3, 1fr); }
  .sm\:grid-4 { grid-template-columns: repeat(4, 1fr); }
  .sm\:gap-4 { gap: 1rem; }
}

@media (min-width: 768px) {
  .md\:grid-3 { grid-template-columns: repeat(3, 1fr); }
  .md\:grid-4 { grid-template-columns: repeat(4, 1fr); }
  .md\:grid-5 { grid-template-columns: repeat(5, 1fr); }
  .md\:gap-6 { gap: 1.5rem; }
}

@media (min-width: 1024px) {
  .lg\:grid-4 { grid-template-columns: repeat(4, 1fr); }
  .lg\:grid-5 { grid-template-columns: repeat(5, 1fr); }
  .lg\:grid-6 { grid-template-columns: repeat(6, 1fr); }
  .lg\:gap-8 { gap: 2rem; }
}

/* =============================================
   MOBILE NAVIGATION OPTIMIZATIONS
   ============================================= */

/* Fixed bottom navigation */
.mobile-bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 50;
  background: rgba(0, 0, 0, 0.95);
  backdrop-filter: blur(20px);
  border-top: 1px solid rgba(139, 92, 246, 0.2);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Mobile header optimizations */
.mobile-header {
  position: sticky;
  top: 0;
  z-index: 40;
  background: rgba(0, 0, 0, 0.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(139, 92, 246, 0.1);
  padding-top: env(safe-area-inset-top);
}

/* =============================================
   SCROLL OPTIMIZATIONS
   ============================================= */

/* Smooth scrolling for mobile */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior: contain;
}

/* Hide scrollbars on mobile */
.hide-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Momentum scrolling */
.momentum-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
  overscroll-behavior-y: contain;
}

/* =============================================
   MOBILE TYPOGRAPHY
   ============================================= */

/* Optimized font sizes for mobile */
@media (max-width: 640px) {
  .mobile-text-xs { font-size: 0.7rem; line-height: 1rem; }
  .mobile-text-sm { font-size: 0.8rem; line-height: 1.1rem; }
  .mobile-text-base { font-size: 0.9rem; line-height: 1.3rem; }
  .mobile-text-lg { font-size: 1rem; line-height: 1.4rem; }
  .mobile-text-xl { font-size: 1.1rem; line-height: 1.5rem; }
  .mobile-text-2xl { font-size: 1.3rem; line-height: 1.6rem; }
  .mobile-text-3xl { font-size: 1.6rem; line-height: 2rem; }
  
  /* Button typography for mobile */
  .mobile-btn-text { font-size: 0.8rem; font-weight: 500; }
  .mobile-btn-lg-text { font-size: 0.9rem; font-weight: 600; }
}

/* =============================================
   SPACING OPTIMIZATIONS
   ============================================= */

/* Mobile-specific spacing */
.mobile-p-2 { padding: 0.5rem; }
.mobile-p-3 { padding: 0.75rem; }
.mobile-p-4 { padding: 1rem; }
.mobile-px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
.mobile-px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
.mobile-px-4 { padding-left: 1rem; padding-right: 1rem; }
.mobile-py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.mobile-py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
.mobile-py-4 { padding-top: 1rem; padding-bottom: 1rem; }

.mobile-m-2 { margin: 0.5rem; }
.mobile-m-3 { margin: 0.75rem; }
.mobile-m-4 { margin: 1rem; }
.mobile-mx-2 { margin-left: 0.5rem; margin-right: 0.5rem; }
.mobile-mx-3 { margin-left: 0.75rem; margin-right: 0.75rem; }
.mobile-my-2 { margin-top: 0.5rem; margin-bottom: 0.5rem; }
.mobile-my-3 { margin-top: 0.75rem; margin-bottom: 0.75rem; }

/* =============================================
   MODAL & DIALOG OPTIMIZATIONS
   ============================================= */

/* Full-screen modals on mobile */
@media (max-width: 640px) {
  .mobile-modal {
    position: fixed;
    inset: 0;
    margin: 0;
    border-radius: 0;
    max-width: 100vw;
    max-height: 100vh;
    width: 100vw;
    height: 100vh;
  }
  
  .mobile-modal-content {
    height: 100%;
    overflow-y: auto;
    padding: 1rem;
    padding-top: calc(1rem + env(safe-area-inset-top));
    padding-bottom: calc(1rem + env(safe-area-inset-bottom));
  }
}

/* =============================================
   CARD & CONTENT OPTIMIZATIONS
   ============================================= */

/* Mobile card optimizations */
.mobile-card {
  border-radius: 0.75rem;
  background: rgba(255, 255, 255, 0.02);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.2s ease;
}

.mobile-card:active {
  transform: scale(0.98);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

/* Content areas with proper padding */
.mobile-content-area {
  padding: 1rem;
  padding-top: calc(1rem + env(safe-area-inset-top));
  padding-bottom: calc(6rem + env(safe-area-inset-bottom)); /* Account for bottom nav */
}

/* =============================================
   INPUT & FORM OPTIMIZATIONS
   ============================================= */

/* Mobile-optimized form inputs */
.mobile-input {
  min-height: 2.75rem; /* 44px touch target */
  font-size: 1rem; /* Prevents zoom on iOS */
  padding: 0.75rem 1rem;
  border-radius: 0.75rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: white;
  transition: all 0.2s ease;
}

.mobile-input:focus {
  outline: none;
  border-color: hsl(271, 100%, 71%);
  box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
  background: rgba(255, 255, 255, 0.08);
}

/* Textarea optimizations */
.mobile-textarea {
  min-height: 6rem;
  resize: vertical;
  font-family: inherit;
}

/* Select optimizations */
.mobile-select {
  -webkit-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1rem;
  padding-right: 2.5rem;
}

/* =============================================
   ANIMATION OPTIMIZATIONS
   ============================================= */

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Performance optimized animations */
.mobile-slide-up {
  animation: mobileSlideUp 0.3s ease-out;
}

.mobile-slide-down {
  animation: mobileSlideDown 0.3s ease-out;
}

.mobile-fade-in {
  animation: mobileFadeIn 0.2s ease-out;
}

@keyframes mobileSlideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes mobileSlideDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes mobileFadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* =============================================
   MEDIA QUERY HELPERS
   ============================================= */

/* Breakpoint utilities */
.mobile-only { display: block; }
.tablet-only { display: none; }
.desktop-only { display: none; }

@media (min-width: 640px) and (max-width: 1023px) {
  .mobile-only { display: none; }
  .tablet-only { display: block; }
  .desktop-only { display: none; }
}

@media (min-width: 1024px) {
  .mobile-only { display: none; }
  .tablet-only { display: none; }
  .desktop-only { display: block; }
}

/* Orientation support */
@media (orientation: landscape) and (max-height: 500px) {
  .landscape-mobile-optimized {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
  
  .landscape-mobile-nav {
    padding: 0.5rem 1rem;
  }
}

/* =============================================
   PWA & APP-LIKE FEATURES
   ============================================= */

/* Remove default mobile browser styles */
body {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  overscroll-behavior: none;
}

/* App-like scrolling */
.app-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Status bar handling */
.status-bar-spacer {
  height: env(safe-area-inset-top);
  background: rgba(0, 0, 0, 0.9);
}

/* Home indicator spacing */
.home-indicator-spacer {
  height: env(safe-area-inset-bottom);
  background: transparent;
}

/* =============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================= */

/* GPU acceleration for animations */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize repaints */
.optimize-repaint {
  contain: layout style paint;
}

/* Content visibility optimization */
.content-visibility-auto {
  content-visibility: auto;
  contain-intrinsic-size: 200px;
}